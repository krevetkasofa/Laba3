# Laba3
### 1. Создаем и настраиваем виртуальную машину А с Ubuntu
 - Проверяем, есть ли у виртуальный машины доступ в интернет с помощью команды
![photo_5258225695266563295_y](https://github.com/user-attachments/assets/b31308e9-8a2e-4c79-9813-13353a6ddad1)


- все пакеты получены успешно ->  доступ в интернет осуществлен успешно
- посмотрим какой IP-адрес у вирутальной маишины А:

![photo_5258440409271626329_y](https://github.com/user-attachments/assets/d97e1844-7efd-483e-b314-79db96c7cbc1)

  
### 2. Создаем и настраиваем виртуальную машину B с Ubuntu
- посмотрим какой IP-адрес у вирутальной маишины B:
  ![photo_5258440409271626330_y](https://github.com/user-attachments/assets/d083f821-7dec-4946-b54c-39b4d65689a9)

### 3. Создаем и настраиваем виртуальную машину C с Ubuntu
- посмотрим какой IP-адрес у вирутальной маишины C:
![photo_5258440409271626331_y](https://github.com/user-attachments/assets/86e7c2d7-27ea-4f02-be0c-b747fe92aafb)

#### Итого:
*- ip-адрес машины А: 192.168.0.103*
*- ip-адрес машины В: 192.168.0.104*
*- ip-адрес машины С: 192.168.0.105*
### 4. Настройка сети
- Сначала проверим, что все машины подключены к интернету:
![2024-10-28_02-01-26](https://github.com/user-attachments/assets/147011ec-8952-46ee-a4f2-1e43c2603d30)

  (Аналогично проверим для В и С)

- Для того, чтобы обеспечить сетевой доступ между машинами, необходимо проверить, что все виртуальные машины подключены к одной сети, поэтому в настройках сети мы выбираем режим "Сетевой мост" в адапторе 2:

![2024-10-28_02-00-46](https://github.com/user-attachments/assets/2ab9e6b4-624f-4078-a7eb-1d8fa5799978)

![2024-10-28_02-04-01](https://github.com/user-attachments/assets/50f469af-0634-4f76-a778-04cfc91d5a9a)

![2024-10-28_02-04-35](https://github.com/user-attachments/assets/0190bb7d-395b-4b6d-b733-c6b65ebf9d1c)
тогда доступ от машины А к машине B и к машине С разрешен по умолчанию

### 5. Обеспечиваем сетевой доступ из машины А в B:

![photo_5258225695266563298_y](https://github.com/user-attachments/assets/300244fd-3fa2-4534-afee-893e67b035d6)

### 6. Проверяем сетевой доступ из машины А в C:
![photo_5258440409271626332_y](https://github.com/user-attachments/assets/ef008602-2442-4d66-85a2-12681db23b85)
Машина А успешно пингует машину С
### 7. Запрещаем сетевой доступ из машины B в C:
Для того, чтобы запретить доступ из машины B в C, выполним следующую команду в машине В:
```bash
sudo iptables -A INPUT -s 192.168.0.105 -j DROP
```
где:
- Iptables — утилита для настройки правил фильтрации сетевых пакетов в Linux. С её помощью можно устанавливать правила для контроля доступа к сетевым интерфейсам.
- -A — флаг, означающий "append", т.е. добавление нового правила в указанную цепочку. Цепочки могут быть INPUT, OUTPUT и FORWARD.
- INPUT — это цепочка в iptables, которая обрабатывает входящие пакеты (пакеты, приходящие на машину).
- -s — флаг, указывающий источник пакета. Он позволяет задать IP-адрес или подсеть, откуда пришел пакет.
- 192.168.0.105 — это конкретный IP-адрес источника, для которого установлено правило. В данном случае, оно применяется к пакетов, приходящим с этого IP.
- -j — флаг, указывающий на то, что будет сделано с пакетом, соответствующим правилам. 
- DROP — действие, которое будет выполнено в отношении пакетов, соответствующих правилам. В данном случае, DROP означает, что пакеты будут отброшены, т.е. никакие пакеты от источника 192.168.0.105 не будут приняты.

Таким образом, команда добавляет правило в iptables, запрещающее входящие пакеты от IP-адреса 192.168.0.105.

![photo_5258440409271626321_y](https://github.com/user-attachments/assets/5c372501-22e4-440c-b7cc-71405a6de540)

### 8. Проверяем сетевой доступ между машинами
